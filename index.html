<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#1A2C38">
    <title>Capital Gardens - حدائق العاصمة</title> <!-- Updated Title -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet"> <!-- Updated Font -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"> <!-- Keep Font Awesome -->
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css"> <!-- Add AOS CSS -->
    <!-- Panolens JS (Add this if you want the 3D tour to work) -->
    <!-- <script src="https://pchen66.github.io/Panolens/js/three/three.min.js"></script> -->
    <!-- <script src="https://pchen66.github.io/Panolens/js/panolens.min.js"></script> -->
    <style>
        :root {
            --primary: #1A2C38; /* Darker, more sophisticated blue */
            --accent: #C4A052; /* Refined gold */
            --tech: #00B4A2; /* Slightly muted teal */
            --light: #FAFBFC; /* Softer white */
            --dark: #0A1218; /* Deeper dark */
            --text: #2C3E50; /* Rich text color */
            --text-light: #5F738C; /* Sophisticated gray */
            --transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1); /* Refined animation curve */
            --shadow-soft: 0 4px 20px rgba(0, 0, 0, 0.06);
            --shadow-medium: 0 8px 30px rgba(0, 0, 0, 0.08);
            --shadow-strong: 0 15px 45px rgba(0, 0, 0, 0.1);
            --border-radius: 12px;
            --border-radius-sm: 8px;
            --border-radius-lg: 16px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', sans-serif;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 70px; /* Adjust based on fixed header height */
        }

        body {
            background: var(--light);
            color: var(--text);
            line-height: 1.8;
            overflow-x: hidden; /* Prevent horizontal scroll */
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            position: relative; /* Needed for some absolute positioning */
        }

        h1, h2, h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: -0.02em;
        }

        h2 {
            font-size: 2.75rem;
            text-align: center;
            margin-bottom: 3.5rem;
            position: relative;
            padding-bottom: 15px;
        }
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--tech));
            border-radius: 2px;
        }

        p {
            color: var(--text-light);
            margin-bottom: 1rem;
            font-size: 1rem;
        }
        .section-subtitle {
             text-align: center;
             max-width: 800px;
             margin: -2.5rem auto 4rem;
             color: var(--text-light);
             font-size: 1.2rem;
             line-height: 1.8;
        }

        section {
            padding: 80px 0;
            overflow: hidden; /* Prevent AOS overflow issues */
        }

         .btn {
            display: inline-block;
            padding: 14px 35px;
            background: linear-gradient(45deg, var(--primary), var(--tech));
            color: var(--light);
            border: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1rem;
            text-decoration: none;
            cursor: pointer;
            transition: var(--transition);
            text-align: center;
            box-shadow: var(--shadow-medium);
            position: relative;
            overflow: hidden;
        }
         .btn::before {
             content: '';
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
             transform: translateX(-100%);
             transition: var(--transition);
         }
         .btn:hover::before {
             transform: translateX(100%);
         }
        .btn-primary {
             background: linear-gradient(45deg, var(--primary), var(--tech));
             color: var(--light);
             border-color: var(--primary);
             box-shadow: 0 5px 15px rgba(10, 31, 45, 0.2);
        }
         .btn-primary:hover {
             transform: translateY(-3px);
             box-shadow: var(--shadow-strong);
         }


        /* Header */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: var(--transition);
            padding: 20px 0;
            background: transparent;
        }

        .main-header.scrolled {
             padding: 10px 0;
             background: rgba(10, 31, 45, 0.9); /* --primary with transparency */
             backdrop-filter: blur(10px);
             -webkit-backdrop-filter: blur(10px);
             box-shadow: var(--shadow-medium);
        }

        .main-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .main-logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
        }

        .main-header.scrolled .main-logo {
            color: var(--accent);
        }

        .main-nav ul {
            list-style: none;
            display: flex;
            gap: 30px;
            margin: 0; /* Reset default ul margin */
        }

        .main-nav a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            transition: var(--transition);
            padding-bottom: 5px;
            position: relative;
        }

         .main-nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            right: 0; /* Start underline from right for RTL */
            width: 0;
            height: 2px;
            background: var(--accent);
            transition: width 0.3s ease;
         }

        .main-nav a:hover,
        .main-header.scrolled .main-nav a:hover {
            color: var(--accent);
        }

        .main-nav a:hover::after {
            width: 100%;
        }

        .main-header.scrolled .main-nav a {
            color: var(--light);
        }

        .mobile-toggle {
            display: none; /* Will be shown in media query */
            color: var(--light);
            background: none;
            border: none;
            font-size: 1.8rem;
            cursor: pointer;
            padding: 5px; /* Easier to tap */
            z-index: 1001; /* Above nav */
        }
        .main-header.scrolled .mobile-toggle {
             color: var(--accent);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            min-height: 700px;
            background: linear-gradient(rgba(26, 44, 56, 0.75), rgba(10, 18, 24, 0.95)),
                        url('wehdat.jpeg') center/cover fixed;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            position: relative;
            overflow: hidden;
            color: var(--light);
            padding: 0 20px;
        }

        .hero .container {
            max-width: 1000px;
            position: relative;
            z-index: 3;
        }

        .hero-subtitle {
            color: var(--accent);
            font-weight: 600;
            margin-bottom: 1.5rem;
            letter-spacing: 3px;
            font-size: 1.3rem;
            text-transform: uppercase;
            opacity: 0;
            animation: fadeInUp 1s ease forwards;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .hero h1 {
            font-size: 4.5rem;
            font-weight: 800;
            color: var(--light);
            margin-bottom: 2rem;
            text-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            opacity: 0;
            animation: fadeInUp 1s ease 0.3s forwards;
            position: relative;
            display: inline-block;
            line-height: 1.2;
        }

        .hero h1::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--tech));
            transform: scaleX(0);
            transform-origin: right;
            animation: lineReveal 1s ease 1s forwards;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .hero p.hero-description {
            font-size: 1.4rem;
            color: rgba(250, 251, 252, 0.95);
            max-width: 800px;
            margin: 2rem auto 3.5rem;
            line-height: 1.9;
            opacity: 0;
            animation: fadeInUp 1s ease 0.6s forwards;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .hero .btn {
            opacity: 0;
            animation: fadeInUp 1s ease 0.9s forwards;
            transform: translateY(20px);
            padding: 18px 45px;
            font-size: 1.15rem;
            letter-spacing: 0.5px;
            border-radius: 50px;
            background: linear-gradient(45deg, var(--accent), #D4AF37);
            color: var(--primary);
            font-weight: 700;
            border: none;
            position: relative;
            overflow: hidden;
            z-index: 1;
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .hero .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #D4AF37, var(--accent));
            z-index: -1;
            transition: transform 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            transform: scaleX(0);
            transform-origin: right;
        }

        .hero .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.4);
            color: var(--primary);
        }

        .hero .btn:hover::before {
            transform: scaleX(1);
            transform-origin: left;
        }

        @media (max-width: 1200px) {
            .hero h1 {
                font-size: 4rem;
            }
            .hero p.hero-description {
                font-size: 1.3rem;
                margin: 2rem auto 3rem;
            }
        }

        @media (max-width: 992px) {
            .hero {
                min-height: 600px;
            }
            .hero h1 {
                font-size: 3.5rem;
            }
            .hero-subtitle {
                font-size: 1.2rem;
                letter-spacing: 2px;
            }
            .hero p.hero-description {
                font-size: 1.2rem;
                margin: 1.5rem auto 2.5rem;
            }
            .hero .btn {
                padding: 16px 40px;
                font-size: 1.1rem;
            }
        }

        @media (max-width: 768px) {
            .hero {
                min-height: 550px;
                padding: 0 15px;
            }
            .hero h1 {
                font-size: 2.8rem;
            }
            .hero-subtitle {
                font-size: 1.1rem;
                letter-spacing: 1.5px;
                margin-bottom: 1rem;
            }
            .hero p.hero-description {
                font-size: 1.1rem;
                margin: 1.5rem auto 2rem;
                line-height: 1.7;
            }
            .hero .btn {
                padding: 14px 35px;
                font-size: 1rem;
            }
        }

        @media (max-width: 576px) {
            .hero {
                min-height: 500px;
                padding: 0 10px;
            }
            .hero h1 {
                font-size: 2.2rem;
                line-height: 1.1;
            }
            .hero-subtitle {
                font-size: 1rem;
                letter-spacing: 1px;
            }
            .hero p.hero-description {
                font-size: 1rem;
                margin: 1.2rem auto 2rem;
                line-height: 1.6;
                padding: 0 10px;
            }
            .hero .btn {
                padding: 12px 30px;
                font-size: 0.95rem;
                width: 100%;
                max-width: 280px;
            }
        }

        @media (max-height: 600px) {
            .hero {
                min-height: 450px;
            }
            .hero-subtitle {
                margin-bottom: 0.8rem;
            }
            .hero h1 {
                margin-bottom: 1rem;
            }
            .hero p.hero-description {
                margin: 1rem auto 1.5rem;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes lineReveal {
            from {
                transform: scaleX(0);
            }
            to {
                transform: scaleX(1);
            }
        }

        .scroll-indicator {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 34px;
            height: 55px;
            border: 2px solid rgba(196, 160, 82, 0.3);
            border-radius: 25px;
            z-index: 3;
            opacity: 0;
            animation: fadeIn 1s ease 1.2s forwards;
        }

        .scroll-indicator::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            animation: scrollAnim 2s infinite ease-out;
        }

        @keyframes scrollAnim {
            0% { transform: translate(-50%, 0); opacity: 1; }
            50% { transform: translate(-50%, 20px); opacity: 0.3; }
            100% { transform: translate(-50%, 0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Property Filter Section */
        .property-filter {
            background: rgba(255, 255, 255, 0.98);
            padding: 40px;
            box-shadow: var(--shadow-strong);
            margin-top: -80px;
            position: relative;
            z-index: 5;
            border-radius: var(--border-radius-lg);
            margin-bottom: 100px;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(196, 160, 82, 0.1);
        }

        .filter-box {
            display: flex;
            gap: 20px;
            align-items: center;
            max-width: 900px;
            margin: 0 auto;
            padding: 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-box input[type="text"] {
            flex-grow: 1;
            padding: 18px 25px;
            border: 2px solid rgba(44, 62, 80, 0.1);
            border-radius: var(--border-radius);
            font-size: 1.1rem;
            min-width: 300px;
            transition: all 0.3s ease;
            background: rgba(250, 251, 252, 0.5);
        }

        .filter-box input[type="text"]:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 4px rgba(196, 160, 82, 0.1);
            background: white;
        }

        .filter-box input[type="text"]::placeholder {
            color: var(--text-light);
            opacity: 0.7;
        }

        .filter-box .filter-btn {
            padding: 18px 35px;
            background: linear-gradient(45deg, var(--primary), var(--tech));
            color: var(--light);
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 12px;
            min-width: 160px;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .filter-box .filter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: var(--transition);
        }

        .filter-box .filter-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-strong);
        }

        .filter-box .filter-btn:hover::before {
            transform: translateX(100%);
        }

        .filter-box .filter-btn i {
            font-size: 1.2rem;
            transition: transform 0.3s ease;
        }

        .filter-box .filter-btn:hover i {
            transform: scale(1.1);
        }

        /* Property Cards / Gallery Section (Using Smart Grid) */
        .smart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* Responsive grid */
            gap: 2.5rem; /* Increased gap */
        }

        .property-card {
            background: white;
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            border-radius: var(--border-radius-lg);
            border: 1px solid rgba(44, 62, 80, 0.08);
            display: flex;
            flex-direction: column;
        }

        .property-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-strong);
            border-color: var(--accent);
        }

        .property-card .img-container {
            position: relative;
            overflow: hidden;
            height: 280px;
            border-radius: var(--border-radius-lg) var(--border-radius-lg) 0 0;
        }

        .property-card .img-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 50%, rgba(26, 44, 56, 0.8));
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .property-card:hover .img-container::before {
            opacity: 1;
        }

        .property-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .property-card:hover img {
            transform: scale(1.1);
        }

        .property-card .hover-info {
            padding: 2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background: white;
            position: relative;
            z-index: 2;
        }

        .hover-info h3 {
            color: var(--primary);
            margin-bottom: 1rem;
            font-size: 1.4rem;
            line-height: 1.4;
            transition: var(--transition);
        }

        .property-card:hover .hover-info h3 {
            color: var(--accent);
        }

        .tech-features {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 1.5rem;
        }

        .tech-features span {
            background: rgba(0, 180, 162, 0.08);
            color: var(--tech);
            padding: 6px 12px;
            border-radius: 20px;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            border: 1px solid rgba(0, 180, 162, 0.15);
        }

        .tech-features span:hover {
            background: var(--tech);
            color: white;
            transform: translateY(-2px);
        }

        .tech-features span i {
            font-size: 1rem;
        }

        .hover-info .tour-btn {
            background: linear-gradient(45deg, var(--primary), var(--tech));
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: var(--border-radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.95rem;
            margin-top: auto;
            align-self: flex-start;
            position: relative;
            overflow: hidden;
        }

        .hover-info .tour-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: var(--transition);
        }

        .hover-info .tour-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-medium);
        }

        .hover-info .tour-btn:hover::before {
            transform: translateX(100%);
        }

        @media (max-width: 768px) {
            .property-card .img-container {
                height: 240px;
            }
            
            .hover-info {
                padding: 1.5rem;
            }
            
            .hover-info h3 {
                font-size: 1.2rem;
            }
            
            .tech-features span {
                padding: 5px 10px;
                font-size: 0.85rem;
            }
        }

        /* About Section Styling */
        .about-section {
            position: relative;
            overflow: hidden;
            padding: 100px 0;
            background: linear-gradient(to left, rgba(255,255,255,0.95), rgba(255,255,255,0.98)),
                        url('pattern.png');
            background-attachment: fixed;
        }

        .about-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 80px;
            align-items: center;
            position: relative;
        }

        .about-content {
            position: relative;
        }

        .about-content h2 {
            text-align: right;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            color: var(--primary);
            position: relative;
        }

        .about-content h2::after {
            left: auto;
            right: 0;
            transform: none;
            width: 100px;
            height: 4px;
            background: linear-gradient(90deg, var(--accent), var(--tech));
            box-shadow: 0 2px 4px rgba(196, 160, 82, 0.2);
        }

        .about-content p {
            color: var(--text);
            line-height: 1.9;
            margin-bottom: 1.8rem;
            font-size: 1.1rem;
            text-align: justify;
        }

        .about-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 40px;
            margin-top: 50px;
            position: relative;
        }

        .about-stat-item {
            text-align: center;
            padding: 30px 20px;
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
            border: 1px solid rgba(196, 160, 82, 0.1);
            position: relative;
            overflow: hidden;
        }

        .about-stat-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(196, 160, 82, 0.05), transparent);
            transform: translateX(-100%);
            transition: var(--transition);
        }

        .about-stat-item:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-medium);
            border-color: var(--accent);
        }

        .about-stat-item:hover::before {
            transform: translateX(100%);
        }

        .about-stat-item h3 {
            color: var(--accent);
            font-size: 3rem;
            margin-bottom: 0.8rem;
            font-weight: 800;
            text-shadow: 0 2px 4px rgba(196, 160, 82, 0.2);
        }

        .about-stat-item p {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.1rem;
            margin: 0;
            letter-spacing: 0.5px;
        }

        .about-image {
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-strong);
        }

        .about-image::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(26, 44, 56, 0.5), rgba(0, 180, 162, 0.3));
            opacity: 0;
            transition: var(--transition);
            z-index: 1;
        }

        .about-image:hover::before {
            opacity: 1;
        }

        .about-image img {
            width: 100%;
            display: block;
            transition: transform 0.8s cubic-bezier(0.165, 0.84, 0.44, 1);
        }

        .about-image:hover img {
            transform: scale(1.08);
        }

        /* Investment Calculator Section */
        .calculator {
            background: linear-gradient(135deg, var(--primary), #1c3a52);
            padding: 80px 0;
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-strong);
            color: var(--light);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .calculator::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 2px,
                rgba(196, 160, 82, 0.03) 2px,
                rgba(196, 160, 82, 0.03) 4px
            );
        }

        .calculator .container {
            position: relative;
            z-index: 2;
        }

        .calculator h2 {
            color: var(--light);
            margin-bottom: 2rem;
            font-size: 2.8rem;
        }

        .calculator h2::after {
            background: var(--accent);
            width: 120px;
        }

        .range-group {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .range-group label {
            display: block;
            margin-bottom: 2rem;
            font-size: 1.3rem;
            font-weight: 500;
            color: rgba(255, 255, 255, 0.95);
        }

        .range-wrapper {
            position: relative;
            padding: 0 15px;
            margin-bottom: 30px;
        }

        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 5px;
            cursor: pointer;
            outline: none;
            margin-bottom: 2rem;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            background: var(--accent);
            border-radius: 50%;
            cursor: pointer;
            border: 4px solid var(--light);
            transition: transform 0.2s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        input[type="range"]::-moz-range-thumb {
            width: 28px;
            height: 28px;
            background: var(--accent);
            border-radius: 50%;
            cursor: pointer;
            border: 4px solid var(--light);
            transition: transform 0.2s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
        }

        input[type="range"]:active::-webkit-slider-thumb,
        input[type="range"]:active::-moz-range-thumb {
            transform: scale(1.2);
        }

        .investment-results {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 40px;
        }

        .result-card {
            background: rgba(30, 30, 45, 0.8);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, rgba(196, 160, 82, 0.4), rgba(196, 160, 82, 0.1));
            opacity: 0.7;
        }

        .result-card.highlight {
            background: linear-gradient(145deg, rgba(40, 40, 60, 0.9), rgba(30, 30, 45, 0.8));
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            transform: translateY(-8px);
            border: 1px solid rgba(196, 160, 82, 0.1);
        }

        .result-card.highlight::before {
            background: linear-gradient(to right, #C4A052, rgba(196, 160, 82, 0.5));
            opacity: 1;
        }

        .result-card h4 {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.1rem;
            margin-bottom: 15px;
        }

        .result-card output {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .return-range {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--accent);
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .return-range .separator {
            color: rgba(255, 255, 255, 0.5);
        }

        .return-range .currency {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .return-percentage {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.7);
            margin-top: 5px;
        }

        .investment-features {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 50px;
        }

        .investment-feature {
            background: rgba(30, 30, 45, 0.7);
            border-radius: 15px;
            padding: 30px 25px;
            transition: all 0.4s ease;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(196, 160, 82, 0.08);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .investment-feature:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 35px rgba(0, 0, 0, 0.25);
            border-color: rgba(196, 160, 82, 0.15);
            background: rgba(40, 40, 60, 0.8);
        }

        .investment-feature i {
            font-size: 2.5rem;
            color: #C4A052;
            margin-bottom: 20px;
            display: inline-block;
            position: relative;
            z-index: 1;
        }

        .investment-feature i::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.15), transparent 70%);
            border-radius: 50%;
            z-index: -1;
        }

        .investment-feature h4 {
            color: #ffffff;
            font-size: 1.3rem;
            margin-bottom: 15px;
            position: relative;
            padding-bottom: 15px;
            display: inline-block;
            font-weight: 700;
        }

        .investment-feature h4::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: #C4A052;
            border-radius: 2px;
        }

        .investment-feature p {
            color: #ffffff;
            font-size: 1rem;
            line-height: 1.6;
        }

        .calculator-cta {
            margin: 40px 0 20px;
        }

        .calculator-cta .btn {
            padding: 15px 35px;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .calculator-cta .btn i {
            font-size: 1.2rem;
        }

        .calculator .disclaimer {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
            max-width: 700px;
            margin: 20px auto 0;
            line-height: 1.6;
        }

        @media (max-width: 992px) {
            .investment-results {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .investment-features {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .calculator h2 {
                font-size: 2.4rem;
            }
            
            .range-group {
                padding: 30px;
            }
        }

        @media (max-width: 768px) {
            .investment-features {
                grid-template-columns: 1fr;
            }
            
            .calculator {
                padding: 60px 0;
            }
            
            .range-group label {
                font-size: 1.1rem;
            }
            
            .return-range {
                font-size: 1.6rem;
            }
            
            .calculator-cta .btn {
                width: 100%;
                justify-content: center;
            }
        }

        @media (max-width: 576px) {
            .calculator h2 {
                font-size: 2rem;
            }
            
            .range-group {
                padding: 20px;
            }
            
            .return-range {
                font-size: 1.4rem;
            }
            
            .return-range .currency {
                font-size: 1rem;
            }
        }

        /* Location & Features Section (Using Feature Box Style) */
        #location {
             background: #ffffff; /* White background */
        }
        .location-map {
            width: 100%;
            height: 450px;
            border-radius: var(--border-radius);
            overflow: hidden;
            margin-bottom: 50px;
            border: 1px solid #eee;
            box-shadow: var(--shadow-soft);
        }
        .location-map iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }

        .feature-box {
            border: 2px solid var(--tech);
            padding: 2.5rem 2rem; /* More padding */
            position: relative;
            overflow: hidden;
            text-align: center; /* Center content */
            background: #fff; /* White background */
            border-radius: var(--border-radius);
            transition: var(--transition);
            box-shadow: var(--shadow-soft);
        }
         .feature-box:hover {
             transform: translateY(-6px);
             box-shadow: 0 12px 25px rgba(0, 199, 177, 0.15);
             border-color: var(--primary);
         }
        .feature-box i { /* Style icon */
            font-size: 2.8rem;
            color: var(--tech);
            margin-bottom: 1.5rem;
            display: inline-block; /* Allow centering */
             transition: transform 0.3s ease;
        }
         .feature-box:hover i {
             transform: scale(1.1) rotate(-5deg);
             color: var(--primary);
         }
         .feature-box h3 {
            font-size: 1.4rem;
            color: var(--primary);
            margin-bottom: 1rem;
         }
          .feature-box p {
             font-size: 0.95rem;
             color: var(--text);
             line-height: 1.6;
             margin: 0;
          }

        /* Virtual Tour Section */
        .virtual-tour {
            padding: 80px 0;
            background: #e9ecef; /* Light background for contrast */
        }

        .tour-container {
            perspective: 1200px; /* 3D perspective */
            transform-style: preserve-3d;
            min-height: 600px; /* Ensure space for viewer */
            width: 100%;
            background: #fff; /* Background for the viewer area */
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-light);
            font-size: 1.2rem;
            /* Placeholder text if Panolens doesn't load */
            text-align: center;
            border: 1px solid #dee2e6;
        }

        /* CTA Section */
        .cta {
             background: var(--primary);
             padding: 70px 0;
             color: var(--light);
             text-align: center;
        }
         .cta h2 {
             color: var(--accent);
             font-size: 2.2rem;
             margin-bottom: 1rem;
         }
         .cta h2::after {
             background: var(--accent);
         }
         .cta p {
             color: rgba(255, 255, 255, 0.8);
             max-width: 800px;
             margin: 0 auto 30px auto;
         }

        /* Footer Styles */
        .footer {
            background: var(--primary);
            color: white;
            padding: 80px 0 30px;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .footer::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('pattern.png') repeat;
            opacity: 0.05;
        }

        .footer-content {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 50px;
        }

        .footer-brand {
            max-width: 600px;
            text-align: center;
        }

        .footer-logo {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 20px;
        }

        .footer-description {
            color: rgba(255, 255, 255, 0.8);
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .footer-links {
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 60px;
            margin-top: 20px;
        }

        .footer-section {
            min-width: 200px;
        }

        .footer-section h3 {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 25px;
            position: relative;
            display: inline-block;
        }

        .footer-section h3::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: var(--accent);
        }

        .footer-section ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .footer-section ul li {
            margin-bottom: 15px;
        }

        .footer-section ul li a,
        .footer-section ul li span {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .footer-section ul li a:hover {
            color: var(--accent);
            transform: translateY(-3px);
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 10px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .social-link:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }

        .footer-bottom {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }

        .footer-bottom p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
        }

        .footer-bottom a {
            color: var(--accent);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        .footer-bottom a:hover {
            color: white;
        }

        @media (max-width: 992px) {
            .footer-links {
                flex-wrap: wrap;
                gap: 40px;
            }

            .footer-section {
                min-width: 250px;
                flex: 1 1 calc(50% - 20px);
            }
        }

        @media (max-width: 768px) {
            .footer {
                padding: 60px 0 30px;
            }

            .footer-content {
                gap: 40px;
            }

            .footer-logo {
                font-size: 2rem;
            }

            .footer-description {
                font-size: 1rem;
            }

            .footer-links {
                flex-direction: column;
                gap: 40px;
            }

            .footer-section {
                min-width: 100%;
            }
        }

        @media (max-width: 576px) {
            .footer-logo {
                font-size: 1.8rem;
            }

            .footer-description {
                font-size: 0.95rem;
            }
        }

        /* Lightbox Basic Styles */
        .lightbox {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: flex; align-items: center; justify-content: center;
            z-index: 10000; cursor: pointer; padding: 20px;
            opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .lightbox.show {
            opacity: 1; visibility: visible;
        }
        .lightbox img {
            max-width: 90%; max-height: 90%; object-fit: contain;
            display: block; border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        .lightbox button.close-lightbox {
            position: absolute; top: 25px; right: 25px;
            background: white; border: none; border-radius: 50%;
            width: 40px; height: 40px; font-size: 1.5rem;
            cursor: pointer; line-height: 40px; text-align: center;
            color: var(--primary);
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            transition: transform 0.2s ease;
        }
        .lightbox button.close-lightbox:hover {
             transform: scale(1.1);
        }

        /* Responsive */
        @media (max-width: 992px) {
            h2 { font-size: 2.2rem; }
            .hero h1 { font-size: 3rem; }
            .hero p.hero-description { font-size: 1.1rem; }
            .smart-grid { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; }
            .about-grid { grid-template-columns: 1fr; } /* Stack about section */
             .about-image { margin-top: 30px; } /* Add space when stacked */
             .about-content h2 { text-align: center; } /* Center title */
             .about-content h2::after { left: 50%; transform: translateX(-50%); right: auto; } /* Center underline */
             .about-stats { justify-content: center; } /* Center stats */
            .footer-content { grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 30px;}
            .tour-container { min-height: 500px; }
        }

        @media (max-width: 768px) {
            html { scroll-padding-top: 60px; }
            
            /* Header optimizations for mobile */
            .main-header { 
                padding: 12px 0; 
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
            }
            .main-header.scrolled { padding: 8px 0; }
            
            /* Mobile Navigation Menu */
            .main-nav {
                position: fixed;
                top: 0;
                right: -100%;
                width: 85%;
                max-width: 350px;
                height: 100vh;
                background: rgba(10, 31, 45, 0.98);
                backdrop-filter: blur(20px);
                -webkit-backdrop-filter: blur(20px);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 0;
                transition: right 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                box-shadow: -5px 0 25px rgba(0,0,0,0.3);
                padding-top: 60px;
                z-index: 9999;
            }
            
            .main-nav ul {
                flex-direction: column;
                padding: 0;
                width: 100%;
                text-align: center;
                gap: 5px;
            }
            
            .main-nav li {
                width: 100%;
                margin: 5px 0;
            }
            
            .main-nav.active {
                right: 0;
            }
            
            .main-nav a, .main-header.scrolled .main-nav a {
                color: var(--light);
                font-size: 1.3rem;
                padding: 18px 25px;
                display: block;
                width: 100%;
                border-radius: 12px;
                margin: 0 15px;
                transition: all 0.3s ease;
                position: relative;
                overflow: hidden;
            }
            
            .main-nav a::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(45deg, var(--accent), var(--tech));
                opacity: 0;
                transition: opacity 0.3s ease;
                z-index: -1;
            }
            
            .main-nav a:hover {
                color: white;
                background: rgba(196, 160, 82, 0.1);
                transform: translateX(-5px);
            }
            
            .main-nav a:hover::before {
                opacity: 0.15;
            }
            
            .main-nav a::after { display: none; }

            .mobile-toggle { 
                display: block; 
                z-index: 10000;
                position: relative;
            }
            
            .mobile-toggle.active i::before {
                content: '\f00d';
            }

            /* Hero Section Mobile */
            .hero { 
                height: 85vh; 
                min-height: 550px; 
                padding: 0 20px;
            }
            .hero h1 { 
                font-size: 2.3rem; 
                margin-bottom: 1.5rem;
            }
            .hero p.hero-description { 
                font-size: 1.05rem; 
                margin: 1.5rem auto 2.5rem;
                line-height: 1.7;
            }
            
            /* Property Filter Mobile */
            .property-filter { 
                margin: -50px 15px 60px; 
                padding: 25px 20px; 
                border-radius: 15px;
            }
            .filter-box { 
                flex-direction: column; 
                gap: 15px; 
            }
            .filter-box input[type="text"], 
            .filter-box .filter-btn { 
                width: 100%; 
                min-width: 0; 
                font-size: 1rem;
                padding: 16px 20px;
            }
            
            /* Typography Mobile */
            h2 { 
                font-size: 2rem; 
                margin-bottom: 2rem;
            }
            .section-subtitle { 
                font-size: 1.05rem; 
                margin-bottom: 2.5rem; 
                line-height: 1.7;
                padding: 0 10px;
            }
            
            /* Feature Boxes Mobile */
            .feature-box { 
                padding: 2rem 1.5rem; 
                margin-bottom: 20px;
            }
            .feature-box i { 
                font-size: 2.5rem; 
                margin-bottom: 1.2rem;
            }
            .feature-box h3 { 
                font-size: 1.3rem; 
                margin-bottom: 1rem;
            }
            .feature-box p {
                font-size: 1rem;
                line-height: 1.6;
            }
            
            /* Calculator Mobile */
            .calculator { 
                padding: 3rem 1rem; 
            }
            .range-group {
                padding: 25px 15px;
            }
            
            /* Tour Container Mobile */
            .tour-container { 
                min-height: 400px; 
                margin: 0 10px;
                border-radius: 15px;
            }
            
            /* Footer Mobile */
            .footer-content { 
                grid-template-columns: 1fr; 
                text-align: center; 
                gap: 30px;
            }
            .footer-section h3::after { 
                left: 50%; 
                transform: translateX(-50%); 
            }
            .footer-social { 
                justify-content: center; 
                margin-top: 20px;
            }
            .footer-about { 
                max-width: none; 
            }
            
            /* Gallery Mobile */
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            .gallery-item.featured {
                grid-column: span 1;
            }
            
            /* About Section Mobile */
            .about-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            .about-content h2 {
                text-align: center;
                font-size: 2rem;
            }
            .about-content h2::after {
                left: 50%;
                transform: translateX(-50%);
                right: auto;
            }
            .about-stats {
                grid-template-columns: 1fr;
                gap: 20px;
            }
        }

        @media (max-width: 576px) {
            /* Container and spacing */
            .container { 
                padding: 0 12px; 
                max-width: 100%;
            }
            
            /* Hero Section Small Mobile */
            .hero { 
                min-height: 450px;
                padding: 0 15px;
            }
            .hero h1 { 
                font-size: 1.9rem; 
                line-height: 1.2;
                margin-bottom: 1rem;
            }
            .hero-subtitle {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }
            .hero p.hero-description {
                font-size: 0.95rem;
                margin: 1rem auto 2rem;
                line-height: 1.6;
                padding: 0 5px;
            }
            .hero .btn { 
                padding: 12px 28px; 
                font-size: 0.95rem; 
                width: 100%;
                max-width: 260px;
                margin: 0 auto;
                display: block;
            }
            
            /* Filter Section Small Mobile */
            .property-filter {
                margin: -40px 10px 50px;
                padding: 20px 15px;
            }
            .filter-box input[type="text"], 
            .filter-box .filter-btn { 
                width: 100%; 
                padding: 14px 18px;
                font-size: 0.95rem;
            }
            
            /* Typography Small Mobile */
            h2 { 
                font-size: 1.7rem; 
                margin-bottom: 1.5rem;
                line-height: 1.3;
            }
            .section-subtitle {
                font-size: 0.95rem;
                margin-bottom: 2rem;
                padding: 0 5px;
            }
            
            /* Grid Layout Small Mobile */
            .smart-grid { 
                grid-template-columns: 1fr; 
                gap: 1.2rem; 
            }
            
            /* Property Cards Small Mobile */
            .property-card .img-container { 
                height: 200px; 
            }
            .hover-info { 
                padding: 1.2rem; 
            }
            .hover-info h3 { 
                font-size: 1.1rem; 
                margin-bottom: 0.8rem;
            }
            .tech-features { 
                font-size: 0.8rem; 
                gap: 6px;
            }
            .tech-features span {
                padding: 4px 8px;
                font-size: 0.75rem;
            }
            .hover-info .tour-btn { 
                font-size: 0.8rem; 
                padding: 8px 12px; 
            }
            
            /* Feature Boxes Small Mobile */
            .feature-box { 
                padding: 1.5rem 1rem; 
                margin-bottom: 15px;
            }
            .feature-box i { 
                font-size: 2.2rem; 
                margin-bottom: 1rem;
            }
            .feature-box h3 { 
                font-size: 1.15rem; 
                margin-bottom: 0.8rem;
            }
            .feature-box p {
                font-size: 0.9rem;
                line-height: 1.5;
            }
            
            /* About Section Small Mobile */
            .about-stat-item { 
                padding: 20px 15px;
            }
            .about-stat-item h3 { 
                font-size: 1.8rem; 
            }
            .about-stat-item p {
                font-size: 0.9rem;
            }
            
            /* Calculator Small Mobile */
            .calculator { 
                padding: 2.5rem 0.8rem; 
            }
            .calculator h2 {
                font-size: 1.6rem;
                margin-bottom: 1rem;
            }
            .investment-subtitle {
                font-size: 1rem;
                margin: -1rem auto 2rem;
                line-height: 1.6;
            }
            .range-group {
                padding: 20px 12px;
            }
            .calculator-label {
                font-size: 1rem;
                margin-bottom: 20px;
            }
            .calculator-label i {
                width: 35px;
                height: 35px;
                font-size: 1.2rem;
            }
            .investment-results {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            .result-card {
                padding: 20px 15px;
            }
            .result-card h4 {
                font-size: 1rem;
                margin-bottom: 15px;
            }
            #investmentOutput { 
                font-size: 1.4rem; 
            }
            .return-range {
                font-size: 1.3rem;
                flex-direction: column;
                gap: 5px;
            }
            .return-range .separator {
                margin: 2px 5px;
            }
            .return-range .currency {
                font-size: 1rem;
            }
            
            /* Investment Features Small Mobile */
            .investment-features {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            .investment-feature {
                padding: 20px 15px;
            }
            .investment-feature i {
                font-size: 2rem;
                margin-bottom: 15px;
            }
            .investment-feature h4 {
                font-size: 1.1rem;
                margin-bottom: 10px;
            }
            .investment-feature p {
                font-size: 0.9rem;
            }
            
            /* Table Small Mobile */
            .returns-table th,
            .returns-table td {
                padding: 8px 4px;
                font-size: 0.8rem;
            }
            .returns-title {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }
            .multi-year-returns {
                padding: 20px 10px;
                margin: 30px 0;
            }
            .returns-note {
                font-size: 0.8rem;
                line-height: 1.5;
            }
            
            /* Tour Container Small Mobile */
            .tour-container { 
                min-height: 350px; 
                margin: 0 5px;
            }
            
            /* Gallery Small Mobile */
            .gallery-section {
                padding: 50px 0;
            }
            .gallery-overlay {
                padding: 15px;
            }
            .gallery-overlay h3 {
                font-size: 1.1rem;
                margin-bottom: 8px;
            }
            .gallery-tag {
                padding: 4px 8px;
                font-size: 0.75rem;
            }
            .gallery-zoom {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
            }
            
            /* Features Section Small Mobile */
            .features-section {
                padding: 50px 0;
            }
            .feature-card {
                margin-bottom: 20px;
            }
            .feature-icon {
                padding: 1.5rem;
            }
            .feature-icon i {
                font-size: 2.5rem;
            }
            .feature-content {
                padding: 1.5rem;
            }
            .feature-content h3 {
                font-size: 1.2rem;
                margin-bottom: 1rem;
            }
            .feature-content p {
                font-size: 0.95rem;
                margin-bottom: 1.2rem;
            }
            .feature-list li {
                font-size: 0.9rem;
                margin-bottom: 0.8rem;
            }
            .feature-list li i {
                width: 28px;
                height: 28px;
                font-size: 1rem;
            }
            
            /* Footer Small Mobile */
            .footer {
                padding: 50px 0 20px;
            }
            .footer-logo {
                font-size: 1.5rem;
                margin-bottom: 15px;
            }
            .footer-description {
                font-size: 0.9rem;
                line-height: 1.6;
            }
            .footer-section h3 {
                font-size: 1.1rem;
                margin-bottom: 15px;
            }
            .footer-section ul li {
                margin-bottom: 10px;
            }
            .footer-section ul li a,
            .footer-section ul li span {
                font-size: 0.9rem;
            }
            .social-link { 
                width: 35px; 
                height: 35px; 
                font-size: 1rem; 
            }
            .footer-bottom {
                margin-top: 30px;
                padding-top: 20px;
            }
            .footer-bottom p {
                font-size: 0.85rem;
                line-height: 1.5;
            }
            
            /* Mobile Navigation Improvements */
            .main-nav {
                width: 90%;
                max-width: 320px;
            }
            .main-nav a {
                font-size: 1.1rem;
                padding: 15px 20px;
                margin: 0 10px;
            }
            
            /* Scroll Indicator Small Mobile */
            .scroll-indicator {
                bottom: 20px;
                width: 28px;
                height: 45px;
            }
        }

        /* Extra Small Mobile (iPhone SE and smaller) */
        @media (max-width: 375px) {
            .hero h1 {
                font-size: 1.7rem;
            }
            .hero .btn {
                max-width: 240px;
                padding: 10px 25px;
                font-size: 0.9rem;
            }
            h2 {
                font-size: 1.5rem;
            }
            .calculator {
                padding: 2rem 0.5rem;
            }
            .range-group {
                padding: 15px 10px;
            }
            .main-nav {
                width: 95%;
            }
            .main-nav a {
                font-size: 1rem;
                padding: 12px 15px;
            }
        }

        /* Landscape mode for phones */
        @media (max-height: 500px) and (orientation: landscape) {
            .hero {
                min-height: 400px;
                padding: 20px;
            }
            .hero h1 {
                font-size: 2rem;
                margin-bottom: 0.5rem;
            }
            .hero-subtitle {
                margin-bottom: 0.5rem;
            }
            .hero p.hero-description {
                margin: 1rem auto 1.5rem;
                font-size: 0.9rem;
            }
            .scroll-indicator {
                bottom: 15px;
            }
        }

        /* Touch-specific improvements */
        @media (hover: none) and (pointer: coarse) {
            /* Larger touch targets for mobile */
            .btn {
                min-height: 44px;
                padding: 12px 24px;
            }
            .mobile-toggle {
                min-width: 44px;
                min-height: 44px;
                padding: 10px;
            }
            .main-nav a {
                min-height: 44px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .gallery-zoom {
                min-width: 44px;
                min-height: 44px;
            }
            .social-link {
                min-width: 44px;
                min-height: 44px;
            }
            
            /* Remove hover effects on mobile */
            .property-card:hover,
            .feature-card:hover,
            .gallery-item:hover {
                transform: none;
            }
            
            /* Improve touch scrolling */
            body {
                -webkit-overflow-scrolling: touch;
            }
            
            /* Prevent zoom on input focus */
            input[type="range"],
            input[type="text"] {
                font-size: 16px;
            }
        }

        /* Mobile Performance Optimizations */
        .mobile-device * {
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .mobile-device .hero {
            will-change: transform;
            transform: translateZ(0);
        }

        .mobile-device .main-nav {
            will-change: transform;
            transform: translateZ(0);
        }

        /* Reduce motion for users who prefer it */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
            
            .hero h1::after {
                animation: none;
                transform: scaleX(1);
            }
            
            .hero-subtitle,
            .hero h1,
            .hero p.hero-description,
            .hero .btn {
                animation: none;
                opacity: 1;
                transform: none;
            }
        }

        /* High DPI / Retina Display Optimizations */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .hero {
                background-attachment: scroll; /* Better performance on high DPI */
            }
        }

        /* Dark mode support for mobile */
        @media (prefers-color-scheme: dark) {
            .mobile-device .main-header {
                background: rgba(10, 18, 24, 0.95);
            }
        }

        /* Focus improvements for accessibility */
        .btn:focus,
        .mobile-toggle:focus,
        .main-nav a:focus,
        .gallery-zoom:focus {
            outline: 2px solid var(--accent);
            outline-offset: 2px;
        }

        /* Hide elements that are not needed on mobile */
        @media (max-width: 768px) {
            .scroll-indicator {
                display: none;
            }
        }

        /* Optimize table scrolling on mobile */
        .returns-table-container {
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin;
            scrollbar-color: var(--accent) transparent;
        }

        .returns-table-container::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        .returns-table-container::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }

        .returns-table-container::-webkit-scrollbar-thumb {
            background: var(--accent);
            border-radius: 3px;
        }

        .returns-table-container::-webkit-scrollbar-thumb:hover {
            background: #D4AF37;
        }

        /* Gallery Section Styling */
        .gallery-section {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95));
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }

        .gallery-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(var(--primary-rgb), 0.05), rgba(var(--secondary-rgb), 0.05));
            z-index: 1;
        }

        .gallery-section .container {
            position: relative;
            z-index: 2;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            margin-top: 50px;
        }

        .gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: all 0.4s ease;
            aspect-ratio: 4/3;
        }

        .gallery-item.featured {
            grid-column: span 2;
            grid-row: span 2;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.6s ease;
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            padding: 30px;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.4s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
            opacity: 1;
        }

        .gallery-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay h3 {
            color: #fff;
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .gallery-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .gallery-tag {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 6px 12px;
            border-radius: 20px;
            color: #fff;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
        }

        .gallery-tag:hover {
            background: rgba(255, 255, 255, 0.25);
        }

        .gallery-tag i {
            font-size: 0.8rem;
        }

        .gallery-zoom {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            color: #fff;
            font-size: 1.1rem;
            cursor: pointer;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }

        .gallery-item:hover .gallery-zoom {
            opacity: 1;
            transform: translateY(0);
        }

        .gallery-zoom:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: scale(1.1) !important;
        }

        /* Responsive Styles */
        @media (max-width: 1200px) {
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .gallery-item.featured {
                grid-column: span 1;
                grid-row: span 1;
            }
        }

        @media (max-width: 768px) {
            .gallery-section {
                padding: 60px 0;
            }
            
            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .gallery-overlay h3 {
                font-size: 1.2rem;
            }
            
            .gallery-tag {
                font-size: 0.8rem;
            }
        }

        @media (max-width: 576px) {
            .gallery-section {
                padding: 40px 0;
            }
            
            .gallery-overlay {
                padding: 20px;
            }
            
            .gallery-zoom {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
        }

        /* Calculator Section Text Styles */
        .calculator-label {
            display: block;
            margin-bottom: 2rem;
            font-size: 1.4rem;
            font-weight: 600;
            color: rgba(255, 255, 255, 0.95);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .calculator-label i {
            margin-left: 10px;
            color: var(--accent);
        }

        .result-card h4 {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .result-card output {
            display: block;
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--accent);
            margin: 10px 0;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
            letter-spacing: 1px;
        }

        .return-range {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent);
            margin: 10px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .return-range .separator {
            color: rgba(255, 255, 255, 0.6);
            font-weight: 400;
        }

        .return-range .currency {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.8);
            font-weight: 500;
        }

        .return-percentage {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.8);
            margin-top: 8px;
            font-weight: 500;
        }

        .investment-feature h4 {
            color: var(--light);
            font-size: 1.3rem;
            margin-bottom: 15px;
            font-weight: 600;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .investment-feature p {
            color: rgba(255, 255, 255, 0.8);
            font-size: 1.1rem;
            line-height: 1.7;
            margin: 0;
        }

        .disclaimer {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.7);
            max-width: 700px;
            margin: 30px auto 0;
            line-height: 1.6;
            text-align: center;
            padding: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        @media (max-width: 768px) {
            .calculator-label {
                font-size: 1.2rem;
            }
            
            .result-card h4 {
                font-size: 1.1rem;
            }
            
            .result-card output {
                font-size: 1.8rem;
            }
            
            .return-range {
                font-size: 1.6rem;
            }
            
            .investment-feature h4 {
                font-size: 1.2rem;
            }
            
            .investment-feature p {
                font-size: 1rem;
            }
        }

        @media (max-width: 576px) {
            .calculator-label {
                font-size: 1.1rem;
            }
            
            .result-card output {
                font-size: 1.6rem;
            }
            
            .return-range {
                font-size: 1.4rem;
            }
            
            .return-range .currency {
                font-size: 1.1rem;
            }
            
            .investment-feature h4 {
                font-size: 1.1rem;
            }
            
            .investment-feature p {
                font-size: 0.95rem;
            }
            
            .disclaimer {
                font-size: 0.9rem;
            }
        }

        /* Add these styles */
        .investment-subtitle {
            font-size: 1.4rem !important;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9) !important;
            max-width: 850px;
            margin: -2rem auto 3.5rem !important;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .investment-subtitle .highlight {
            color: var(--accent);
            font-weight: 700;
            font-size: 1.5rem;
            padding: 0 8px;
            position: relative;
            display: inline-block;
        }

        .investment-subtitle .highlight::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--accent);
            opacity: 0.5;
        }

        @media (max-width: 768px) {
            .investment-subtitle {
                font-size: 1.2rem !important;
                margin: -1.5rem auto 3rem !important;
            }
            
            .investment-subtitle .highlight {
                font-size: 1.3rem;
            }
        }

        @media (max-width: 576px) {
            .investment-subtitle {
                font-size: 1.1rem !important;
                margin: -1rem auto 2.5rem !important;
                line-height: 1.7;
            }
            
            .investment-subtitle .highlight {
                font-size: 1.2rem;
            }
        }

        /* Features Section Styles */
        .features-section {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }

        .features-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(26, 44, 56, 0.02), rgba(0, 180, 162, 0.02));
            pointer-events: none;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .feature-card {
            background: white;
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(44, 62, 80, 0.05);
            display: flex;
            flex-direction: column;
            height: 100%;
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.08);
        }

        .feature-card:hover {
            transform: translateY(-15px);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
            border-color: var(--accent);
        }

        .feature-icon {
            background: linear-gradient(135deg, var(--primary), var(--tech));
            padding: 2.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-icon::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.5s ease;
        }

        .feature-card:hover .feature-icon::before {
            transform: translateX(100%);
        }

        .feature-icon i {
            font-size: 3.5rem;
            color: white;
            transition: all 0.5s ease;
            position: relative;
            z-index: 2;
        }

        .feature-card:hover .feature-icon i {
            transform: scale(1.1) rotate(-5deg);
        }

        .feature-content {
            padding: 2.5rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            position: relative;
            z-index: 2;
            background: white;
        }

        .feature-content h3 {
            color: var(--primary);
            font-size: 1.5rem;
            margin-bottom: 1.2rem;
            font-weight: 700;
            transition: color 0.3s ease;
        }

        .feature-card:hover .feature-content h3 {
            color: var(--accent);
        }

        .feature-content p {
            color: var(--text);
            font-size: 1.1rem;
            line-height: 1.7;
            margin-bottom: 1.5rem;
        }

        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
            margin-top: auto;
        }

        .feature-list li {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 1rem;
            color: var(--text);
            font-size: 1rem;
            transition: all 0.3s ease;
            padding: 8px 0;
            position: relative;
        }

        .feature-list li:last-child {
            margin-bottom: 0;
        }

        .feature-list li i {
            color: var(--accent);
            font-size: 1.2rem;
            transition: all 0.3s ease;
            background: rgba(196, 160, 82, 0.1);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .feature-list li:hover {
            color: var(--accent);
            transform: translateX(-5px);
        }

        .feature-list li:hover i {
            transform: scale(1.1);
            background: var(--accent);
            color: white;
        }

        @media (max-width: 992px) {
            .features-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 30px;
            }
        }

        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .feature-icon {
                padding: 2rem;
            }
            
            .feature-icon i {
                font-size: 3rem;
            }
            
            .feature-content {
                padding: 2rem;
            }
            
            .feature-content h3 {
                font-size: 1.4rem;
            }
            
            .feature-content p {
                font-size: 1rem;
            }
        }

        @media (max-width: 576px) {
            .features-section {
                padding: 60px 0;
            }
            
            .feature-icon {
                padding: 1.8rem;
            }
            
            .feature-icon i {
                font-size: 2.8rem;
            }
            
            .feature-content {
                padding: 1.8rem;
            }
            
            .feature-content h3 {
                font-size: 1.3rem;
            }
        }

        /* Site Photos Section */
        .site-photos-section {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(245, 245, 245, 0.95));
            padding: 100px 0;
            position: relative;
            overflow: hidden;
        }

        .site-photos-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 50px;
        }

        .photo-card {
            position: relative;
            border-radius: var(--border-radius-lg);
            overflow: hidden;
            aspect-ratio: 4/3;
            box-shadow: var(--shadow-soft);
            transition: var(--transition);
        }

        .photo-card.large {
            grid-column: span 2;
            aspect-ratio: 21/9;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-card:hover img {
            transform: scale(1.1);
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .photo-card:hover .photo-overlay {
            transform: translateY(0);
        }

        .photo-overlay h3 {
            margin-bottom: 1rem;
            font-size: 1.4rem;
        }

        .photo-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .photo-tags span {
            background: rgba(255,255,255,0.2);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

        @media (max-width: 768px) {
            .site-photos-grid {
                grid-template-columns: 1fr;
            }

            .photo-card.large {
                grid-column: span 1;
                aspect-ratio: 4/3;
            }
        }

        /* Site Photos Section */
        .site-photos-section {
            background: linear-gradient(135deg, var(--primary) 0%, var(--tech) 100%);
            padding: 100px 0;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .site-photos-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('pattern.png') repeat;
            opacity: 0.05;
            pointer-events: none;
        }

        .site-photos-section h2,
        .site-photos-section .section-subtitle {
            color: white;
            text-align: center;
        }

        .photos-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
            margin-top: 50px;
        }

        .photo-card {
            position: relative;
            border-radius: 20px;
            overflow: hidden;
            aspect-ratio: 16/9;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .photo-card.featured {
            grid-column: span 2;
            aspect-ratio: 21/9;
        }

        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .photo-card:hover img {
            transform: scale(1.1);
        }

        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 30px;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            transform: translateY(0);
            transition: all 0.5s ease;
        }

        .photo-card:hover .photo-overlay {
            transform: translateY(-10px);
        }

        .photo-overlay h3 {
            color: white;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .photo-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .photo-tag {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 6px 12px;
            border-radius: 20px;
            color: #fff;
        }

        .zoom-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        @media (max-width: 992px) {
            .photos-grid {
                gap: 20px;
            }
        }

        @media (max-width: 768px) {
            .photos-grid {
                grid-template-columns: 1fr;
            }

            .photo-card.featured {
                grid-column: span 1;
                aspect-ratio: 16/9;
            }

            .photo-overlay {
                padding: 20px;
            }

            .photo-overlay h3 {
                font-size: 1.3rem;
                margin-bottom: 10px;
            }
        }

        @media (max-width: 576px) {
            .site-photos-section {
                padding: 60px 0;
            }

            .photo-overlay {
                padding: 15px;
            }

            .photo-overlay h3 {
                font-size: 1.2rem;
                margin-bottom: 8px;
            }

            .photo-tag {
                padding: 4px 10px;
                font-size: 0.8rem;
            }
        }

        .footer .social-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        .footer .social-links a {
            color: var(--light);
            font-size: 24px;
            transition: var(--transition);
        }

        .footer .social-links a:hover {
            color: var(--accent);
            transform: translateY(-3px);
        }

        .footer-social {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .footer-social .social-link {
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .footer-social .social-link:hover {
            background: var(--accent);
            transform: translateY(-5px);
            color: white;
        }

        .returns-title {
            font-size: 1.5rem;
            color: #C4A052;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
            font-weight: 700;
        }

        .returns-table-container {
            overflow-x: auto;
            margin: 0 auto 20px;
            max-width: 100%;
            border-radius: var(--border-radius);
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .returns-table {
            width: 100%;
            border-collapse: collapse;
            color: #ffffff;
        }

        .returns-table th,
        .returns-table td {
            padding: 12px 15px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .returns-table th {
            background-color: rgba(0, 0, 0, 0.4);
            color: #C4A052;
            font-weight: 700;
        }

        .returns-table tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .returns-table tr:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .returns-table tr:last-child td {
            border-bottom: none;
        }

        .returns-table td.year {
            font-weight: 700;
            color: #ffffff;
        }

        .returns-table td.rate {
            color: #C4A052;
            font-weight: 700;
        }

        .returns-table td.annual {
            color: #C4A052;
            font-weight: 700;
        }

        .returns-table td.highlight {
            color: #ffffff;
            font-weight: 600;
        }

        .returns-table td.total {
            color: #C4A052;
            font-weight: 700;
            font-size: 1.05em;
        }

        .returns-note {
            font-size: 0.9rem;
            color: #ffffff;
            text-align: center;
            margin: 15px 0 0;
            opacity: 0.9;
        }

        .multi-year-returns {
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .returns-table th,
            .returns-table td {
                padding: 10px;
                font-size: 0.9rem;
            }
        }

        /* تحسينات متقدمة لقسم حاسبة الاستثمار */
        .calculator-section {
            background: linear-gradient(135deg, #0e111e 0%, #1a1e35 50%, #24253d 100%);
            position: relative;
            padding: 120px 0 100px;
            overflow: hidden;
        }
        
        .calculator-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23c4a052' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/g%3E%3C/svg%3E");
            background-size: 150px 150px;
            opacity: 0.7;
            pointer-events: none;
        }
        
        .calculator-section::after {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 80%;
            height: 200%;
            background: radial-gradient(ellipse at center, rgba(196, 160, 82, 0.1) 0%, rgba(196, 160, 82, 0) 70%);
            transform: rotate(-30deg);
            pointer-events: none;
        }
        
        /* تحسين عنوان القسم */
        .calculator-section h2 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 20px;
            text-align: center;
            position: relative;
            display: inline-block;
            background: linear-gradient(to right, #d4af37, #C4A052);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-fill-color: transparent;
            padding: 0 20px;
        }
        
        .calculator-section h2::before,
        .calculator-section h2::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 60px;
            height: 2px;
            background: linear-gradient(to right, rgba(196, 160, 82, 0.3), #C4A052);
        }
        
        .calculator-section h2::before {
            right: 100%;
        }
        
        .calculator-section h2::after {
            left: 100%;
        }
        
        /* تصميم جديد للنص التوضيحي */
        .investment-subtitle {
            font-size: 1.3rem;
            margin-bottom: 40px;
            color: #ffffff;
            text-align: center;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .investment-subtitle .highlight {
            color: #C4A052;
            font-weight: 700;
            position: relative;
            padding: 0 5px;
        }
        
        .investment-subtitle .highlight::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 8px;
            background: rgba(196, 160, 82, 0.2);
            z-index: -1;
            border-radius: 4px;
        }
        
        /* تصميم مميز لمجموعة الحاسبة */
        .range-group {
            max-width: 1000px;
            margin: 0 auto;
            padding: 40px;
            background: rgba(15, 18, 31, 0.8);
            border: 1px solid rgba(196, 160, 82, 0.15);
            border-radius: 20px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.3),
                        0 0 30px rgba(196, 160, 82, 0.1);
            position: relative;
            z-index: 1;
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
        }
        
        .range-group::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(135deg, rgba(196, 160, 82, 0.3), rgba(196, 160, 82, 0) 50%, rgba(196, 160, 82, 0.3));
            border-radius: 25px;
            z-index: -1;
            opacity: 0.5;
            filter: blur(10px);
        }
        
        /* تصميم مميز للعنوان الفرعي */
        .calculator-label {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.3rem;
            color: #ffffff;
            margin-bottom: 25px;
            font-weight: 600;
            position: relative;
            padding-bottom: 15px;
            border-bottom: 1px dashed rgba(196, 160, 82, 0.3);
        }
        
        .calculator-label i {
            color: #C4A052;
            font-size: 1.4rem;
            background: rgba(196, 160, 82, 0.1);
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(196, 160, 82, 0.2);
        }
        
        /* تصميم مميز لشريط التمرير */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 10px;
            background: linear-gradient(to right, #0f121f, #1a1e35);
            border-radius: 10px;
            outline: none;
            box-shadow: inset 0 1px 5px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(196, 160, 82, 0.1);
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: #C4A052;
            background: linear-gradient(135deg, #d4af37, #C4A052);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3), 0 0 0 2px rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        input[type="range"]::-moz-range-thumb {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, #d4af37, #C4A052);
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3), 0 0 0 2px rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 3px 15px rgba(196, 160, 82, 0.4), 0 0 0 3px rgba(255, 255, 255, 0.3);
        }
        
        input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.15);
            box-shadow: 0 3px 15px rgba(196, 160, 82, 0.4), 0 0 0 3px rgba(255, 255, 255, 0.3);
        }
        
        /* تصميم لبطاقات النتائج */
        .investment-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 35px 0;
        }
        
        .result-card {
            background: rgba(23, 26, 44, 0.8);
            border-radius: 15px;
            padding: 30px;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .result-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(to right, rgba(196, 160, 82, 0.3), rgba(196, 160, 82, 0.1));
        }
        
        .result-card.highlight {
            background: linear-gradient(145deg, rgba(31, 35, 58, 0.9), rgba(24, 27, 46, 0.8));
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.25);
            transform: translateY(-8px);
            border: 1px solid rgba(196, 160, 82, 0.1);
        }
        
        .result-card.highlight::before {
            background: linear-gradient(to right, #C4A052, rgba(196, 160, 82, 0.5));
        }
        
        .result-card::after {
            content: '';
            position: absolute;
            bottom: -50px;
            right: -50px;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.1), transparent 70%);
            opacity: 0.5;
            border-radius: 50%;
        }
        
        .result-card h4 {
            color: #ffffff;
            font-size: 1.2rem;
            margin-bottom: 20px;
            text-align: center;
            font-weight: 600;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            position: relative;
            display: inline-block;
            width: 100%;
        }
        
        .result-card h4::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 2px;
            background: rgba(196, 160, 82, 0.5);
            border-radius: 2px;
        }
        
        /* تصميم للأرقام في البطاقات */
        .return-range {
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            color: #ffffff;
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        
        .return-range .separator {
            margin: 0 10px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .return-range .currency {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-right: 5px;
            font-weight: 600;
        }
        
        .return-percentage {
            text-align: center;
            font-size: 1.2rem;
            color: #C4A052;
            font-weight: 600;
            margin-top: 5px;
            position: relative;
            display: inline-block;
            width: 100%;
        }
        
        /* تصميم مميز لجدول العائد */
        .multi-year-returns {
            background: rgba(22, 25, 41, 0.7);
            border-radius: 15px;
            padding: 35px;
            margin: 50px 0 40px;
            border: 1px solid rgba(196, 160, 82, 0.1);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .multi-year-returns::before {
            content: '';
            position: absolute;
            top: -100px;
            left: -100px;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.1), transparent 70%);
            opacity: 0.5;
            border-radius: 50%;
        }
        
        .multi-year-returns::after {
            content: '';
            position: absolute;
            bottom: -100px;
            right: -100px;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.1), transparent 70%);
            opacity: 0.5;
            border-radius: 50%;
        }
        
        .returns-title {
            font-size: 1.5rem;
            color: #C4A052;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
            font-weight: 700;
        }
        
        .returns-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, rgba(196, 160, 82, 0.5), #C4A052);
            border-radius: 3px;
        }
        
        .returns-table-container {
            overflow-x: auto;
            margin: 25px 0;
            border-radius: 12px;
            background: rgba(18, 21, 36, 0.7);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(196, 160, 82, 0.08);
            padding: 5px;
        }
        
        .returns-table {
            width: 100%;
            border-collapse: collapse;
            color: #ffffff;
        }
        
        .returns-table th {
            background: rgba(25, 29, 49, 0.9);
            color: #C4A052;
            font-weight: 700;
            padding: 15px;
            text-align: center;
            letter-spacing: 0.5px;
            font-size: 1.1rem;
            position: sticky;
            top: 0;
            z-index: 10;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid rgba(196, 160, 82, 0.3);
        }
        
        .returns-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid rgba(196, 160, 82, 0.05);
            transition: all 0.3s ease;
            color: #ffffff;
        }
        
        .returns-table tr:last-child td {
            border-bottom: none;
        }
        
        .returns-table tr:hover td {
            background-color: rgba(196, 160, 82, 0.08);
        }
        
        .returns-table td.year {
            font-weight: 700;
            color: #ffffff;
            position: relative;
        }
        
        .returns-table td.year::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            width: 1px;
            height: 60%;
            background: rgba(196, 160, 82, 0.15);
        }
        
        .returns-table td.rate {
            color: #C4A052;
            font-weight: 700;
        }
        
        .returns-table td.annual {
            color: #C4A052;
            font-weight: 700;
        }
        
        .returns-table td.total {
            color: #C4A052;
            font-weight: 700;
            font-size: 1.05em;
        }
        
        .returns-note {
            font-size: 0.95rem;
            color: #ffffff;
            text-align: center;
            margin: 15px 0 0;
            font-style: italic;
            opacity: 0.8;
        }
        
        /* تحسين التوافق مع الشاشات المختلفة */
        @media (max-width: 992px) {
            .investment-features {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .calculator-section h2::before,
            .calculator-section h2::after {
                width: 30px;
            }
            
            .gold-decoration.left {
                left: 10%;
            }
            
            .gold-decoration.right {
                right: 10%;
            }
        }
        
        @media (max-width: 768px) {
            .calculator-section {
                padding: 80px 0 60px;
            }
            
            .calculator-section h2 {
                font-size: 2.2rem;
            }
            
            .calculator-section h2::before,
            .calculator-section h2::after {
                display: none;
            }
            
            .investment-subtitle {
                font-size: 1.1rem;
            }
            
            .investment-results {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .result-card.highlight {
                transform: translateY(0);
            }
            
            .investment-features {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .range-group {
                padding: 30px 20px;
            }
            
            .multi-year-returns {
                padding: 30px 20px;
            }
            
            .returns-table th,
            .returns-table td {
                padding: 12px 8px;
                font-size: 0.9rem;
            }
            
            .returns-title {
                font-size: 1.3rem;
            }
            
            .calculator-label {
                font-size: 1.1rem;
            }
            
            .return-range {
                font-size: 1.8rem;
            }
            
            .gold-decoration {
                width: 25px;
                height: 25px;
            }
            
            .gold-decoration.left {
                left: 5%;
            }
            
            .gold-decoration.right {
                right: 5%;
            }
        }
        
        @media (max-width: 576px) {
            .calculator-section h2 {
                font-size: 1.8rem;
            }
            
            .returns-title {
                font-size: 1.2rem;
            }
            
            .return-range {
                font-size: 1.6rem;
                flex-direction: column;
            }
            
            .return-range .separator {
                margin: 5px 0;
            }
            
            .investment-feature {
                padding: 25px 20px;
            }
            
            .feature-icon-container {
                width: 60px;
                height: 60px;
            }
            
            .feature-icon-container i {
                font-size: 1.7rem;
            }
            
            .investment-feature h4 {
                font-size: 1.2rem;
            }
        }

        .investment-features-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .gold-decoration {
            width: 20px;
            height: 20px;
            background: gold;
            border-radius: 50%;
        }

        .left {
            transform: rotate(45deg);
        }

        .right {
            transform: rotate(-45deg);
        }

        .investment-features {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .investment-feature {
            text-align: center;
            flex: 1;
        }

        .feature-icon-container {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        .investment-feature h4 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .investment-feature p {
            font-size: 1rem;
        }

        /* تصميم ديكورات الزوايا لجدول العائد */
        .corner-decoration {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid #C4A052;
            opacity: 0.6;
            z-index: 1;
        }

        .top-left {
            top: 10px;
            left: 10px;
            border-right: none;
            border-bottom: none;
        }

        .top-right {
            top: 10px;
            right: 10px;
            border-left: none;
            border-bottom: none;
        }

        .bottom-left {
            bottom: 10px;
            left: 10px;
            border-right: none;
            border-top: none;
        }

        .bottom-right {
            bottom: 10px;
            right: 10px;
            border-left: none;
            border-top: none;
        }

        /* تحسين مظهر العنوان والجدول */
        .multi-year-returns {
            background: rgba(25, 29, 49, 0.7);
            border-radius: 15px;
            padding: 35px;
            margin: 40px 0;
            border: 1px solid rgba(196, 160, 82, 0.1);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .multi-year-returns::before {
            content: '';
            position: absolute;
            top: -50px;
            left: -50px;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.1), transparent 70%);
            border-radius: 50%;
        }

        .multi-year-returns::after {
            content: '';
            position: absolute;
            bottom: -50px;
            right: -50px;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(196, 160, 82, 0.1), transparent 70%);
            border-radius: 50%;
        }

        .returns-title {
            font-size: 1.5rem;
            color: #C4A052;
            margin-bottom: 25px;
            text-align: center;
            position: relative;
            padding-bottom: 15px;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .returns-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(to right, rgba(196, 160, 82, 0.5), #C4A052);
            border-radius: 3px;
        }

        .returns-table-container {
            overflow-x: auto;
            margin: 25px 0;
            border-radius: 12px;
            background: rgba(18, 21, 36, 0.7);
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(196, 160, 82, 0.08);
            padding: 5px;
        }

        /* تحسين مظهر خلايا الجدول */
        .returns-table th {
            background: rgba(25, 29, 49, 0.9);
            color: #C4A052;
            font-weight: 700;
            padding: 15px;
            text-align: center;
            letter-spacing: 0.5px;
            font-size: 1.1rem;
            position: sticky;
            top: 0;
            z-index: 10;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
            border-bottom: 2px solid rgba(196, 160, 82, 0.3);
        }

        .returns-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid rgba(196, 160, 82, 0.05);
            transition: all 0.3s ease;
            color: #ffffff;
        }

        .returns-table tr:nth-child(even) {
            background-color: rgba(255, 255, 255, 0.02);
        }

        .returns-table tr:last-child td {
            border-bottom: none;
        }

        .returns-table tr:hover td {
            background-color: rgba(196, 160, 82, 0.08);
        }

        /* تنسيق متميز للأرقام */
        .returns-table td.year {
            font-weight: 700;
            color: #ffffff;
            position: relative;
        }

        .returns-table td.year::after {
            content: '';
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            width: 1px;
            height: 60%;
            background: rgba(196, 160, 82, 0.15);
        }

        .returns-table td.rate {
            color: #C4A052;
            font-weight: 700;
        }

        .returns-table td.annual {
            color: #C4A052;
            font-weight: 700;
        }

        .returns-table td.total {
            color: #C4A052;
            font-weight: 700;
            font-size: 1.05em;
        }

        /* تصميم متميز لأقسام الاستثمار */
        .investment-features-container {
            position: relative;
            margin-top: 50px;
            padding-top: 25px;
        }

        .gold-decoration {
            position: absolute;
            width: 25px;
            height: 25px;
            top: 0;
            background: linear-gradient(135deg, #d4af37, #C4A052);
            opacity: 0.7;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(196, 160, 82, 0.4);
        }

        .gold-decoration.left {
            left: 30%;
        }

        .gold-decoration.right {
            right: 30%;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="main-header">
        <div class="container">
            <a href="#" class="main-logo">Capital Gardens</a> <!-- Original Logo Text -->
             <button class="mobile-toggle" aria-label="Toggle navigation" aria-expanded="false">
                <i class="fas fa-bars"></i>
            </button>
            <nav class="main-nav">
                 <ul>
                    <li><a href="#about">نبذة عنا</a></li>
                    <li><a href="#location">الموقع</a></li>
                    <li><a href="#features">المميزات</a></li>
                    <li><a href="#gallery">معرض الصور</a></li>
                    <li><a href="#calculator">الاستثمار</a></li>
<!--                     <li><a href="#tour"> صور من أرض الواقع  </a></li>
 -->                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero"> <!-- Changed back to section for semantic clarity -->
        <div class="container" data-aos="fade-up">
            <!-- Using original subtitle and title -->
            <p class="hero-subtitle">مدينة ذكية متكاملة</p>
            <h1>Capital Gardens</h1>
            <!-- Using original description -->
            <p class="hero-description">حياة عصرية مستدامة في قلب حدائق العاصمة الإدارية الجديدة، تجمع بين الراحة والفخامة والتكنولوجيا</p>
             <!-- Original Button -->
            <a href="#about" class="btn">اعرف المزيد</a>
        </div>
        <a href="#about" class="scroll-indicator" aria-label="Scroll down"></a>
    </section>

    <main>
        <!-- Filter Section - Basic Placeholder -->
       <!--  <section class="property-filter">
            <div class="container">
                <div class="filter-box">
                    <input type="text" placeholder="ابحث عن وحدة بالمساحة، السعر، أو النوع..." aria-label="Search properties">
                    <button class="filter-btn btn-primary">
                        <i class="fas fa-search"></i>
                        بحث
                    </button>
                     Add advanced filter button if needed -->
                    <!-- <button class="filter-btn">
                        <i class="fas fa-sliders-h"></i>
                        فلتر متقدم
                    </button> -->
               <!--  </div>
            </div>
        </section> --> 

        <!-- About Section (Integrated from original) -->
        <section id="about" class="about-section">
            <div class="container">
                <div class="about-grid">
                    <div class="about-content" data-aos="fade-left"> <!-- Animate from left for RTL -->
                        <h2>نبذة عن كابيتال جاردنز</h2>
                        <p>
                            كابيتال جاردنز هي مدينة ذكية متكاملة تقع في قلب حدائق العاصمة الإدارية الجديدة، وتتميز بتصميم عصري يجمع بين الفخامة والاستدامة والتكنولوجيا.
                        </p>
                        <p>
                            تمتد على مساحة 1000 فدان وتضم 7 أحياء سكنية مترابطة، وتوفر لسكانها بيئة معيشية فريدة مع مساحات خضراء واسعة ومرافق خدمية متكاملة. يتوسط المشروع نهر أخضر يربط بين جميع أحياء المدينة ويوفر إطلالات ساحرة للوحدات السكنية والمرافق المحيطة.
                        </p>
                         <div class="about-stats">
                             <div class="about-stat-item">
                                <h3>1000+</h3>
                                <p>فدان</p>
                             </div>
                             <div class="about-stat-item">
                                <h3>7</h3>
                                <p>أحياء سكنية</p>
                             </div>
                             <div class="about-stat-item">
                                <h3>70%</h3>
                                <p>مساحات خضراء</p>
                             </div>
                         </div>
                     </div>
                     <div class="about-image" data-aos="fade-right"> <!-- Animate from right for RTL -->
                        <img src="mawkee.jpeg" alt="صورة جوية لمشروع كابيتال جاردنز">
                    </div>
                </div>
            </div>
        </section>


        <!-- Location Section (Integrated from original) -->
        <section id="location" class="section" style="background: #ffffff;"> <!-- White BG -->
            <div class="container">
                 <h2 data-aos="fade-up">الموقع المتميز</h2>
                 <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">موقع استراتيجي في قلب حدائق العاصمة الإدارية الجديدة يوفر سهولة الوصول إلى جميع المرافق الحيوية.</p>
                <div class="location-map" data-aos="fade-up" data-aos-delay="200">
                     <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3450.5959859088184!2d31.811691675325275!3d30.134372274878466!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1457e5c70ad36487%3A0xef06c628b6c405ba!2zQ2FwaXRhbCBHYXJkZW5zIC0g2K3Yr9in2KbZgiDYp9mE2LnYp9i12YXYqQ!5e0!3m2!1sen!2seg!4v1741440864923!5m2!1sen!2seg" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="موقع كابيتال جاردنز على الخريطة"></iframe>
                 </div>
                <!-- Location Features (Using Feature Box Style) -->
                 <div class="smart-grid">
                     <div class="feature-box" data-aos="fade-up" data-aos-delay="300">
                         <i class="fas fa-road"></i>
                         <h3>على طريق السويس مباشرة</h3>
                         <p>موقع استراتيجي يربط بين القاهرة والعاصمة الإدارية بسهولة ويسر.</p>
                     </div>
                     <div class="feature-box" data-aos="fade-up" data-aos-delay="400">
                         <i class="fas fa-plane-departure"></i>
                         <h3>أمام مطار العاصمة</h3>
                         <p>سهولة الوصول وقرب المواصلات، على بعد دقائق من مطار العاصمة الإدارية.</p>
                     </div>
                     <div class="feature-box" data-aos="fade-up" data-aos-delay="500">
                         <i class="fas fa-city"></i>
                         <h3>بجوار مدينة نور</h3>
                         <p>منطقة حيوية متكاملة الخدمات بجوار أهم المشروعات في العاصمة الإدارية.</p>
                     </div>
                 </div>
            </div>
        </section>


        <!-- Features Section -->
        <section id="features" class="features-section">
            <div class="container">
                <h2 data-aos="fade-up">مميزات المشروع</h2>
                <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
                    نقدم لك تجربة حياة استثنائية مع مجموعة من المميزات الفريدة التي تجعل من كابيتال جاردنز وجهتك المثالية للسكن والاستثمار
                </p>

                <div class="features-grid">
                    <!-- النهر الأخضر -->
                    <div class="feature-card" data-aos="fade-up">
                        <div class="feature-icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <div class="feature-content">
                            <h3>النهر الأخضر</h3>
                            <p>نهر صناعي يمتد بطول المشروع محاط بالمساحات الخضراء والمناطق الترفيهية، يوفر إطلالات مائية خلابة للوحدات السكنية</p>
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i>مسارات للمشي والجري</li>
                                <li><i class="fas fa-check-circle"></i>جلسات عائلية</li>
                                <li><i class="fas fa-check-circle"></i>مناظر طبيعية خلابة</li>
                                <li><i class="fas fa-check-circle"></i>أنشطة ترفيهية متنوعة</li>
                            </ul>
                        </div>
                    </div>

                    <!-- النادي الرياضي -->
                    <div class="feature-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="feature-icon">
                            <i class="fas fa-dumbbell"></i>
                        </div>
                        <div class="feature-content">
                            <h3>النادي الرياضي</h3>
                            <p>نادي رياضي متكامل على مساحة 70 فدان يضم كافة الأنشطة الرياضية والترفيهية لجميع أفراد الأسرة</p>
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i>ملاعب رياضية متعددة</li>
                                <li><i class="fas fa-check-circle"></i>حمامات سباحة أوليمبية</li>
                                <li><i class="fas fa-check-circle"></i>صالات رياضية مجهزة</li>
                                <li><i class="fas fa-check-circle"></i>مدربين محترفين</li>
                            </ul>
                        </div>
                    </div>

                    <!-- مرافق متكاملة -->
                    <div class="feature-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="feature-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <div class="feature-content">
                            <h3>مرافق متكاملة</h3>
                            <p>مجموعة متكاملة من الخدمات والمرافق التي تلبي جميع احتياجات السكان اليومية بأعلى مستويات الجودة</p>
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i>مولات تجارية فاخرة</li>
                                <li><i class="fas fa-check-circle"></i>مدارس دولية معتمدة</li>
                                <li><i class="fas fa-check-circle"></i>مستشفيات متطورة</li>
                                <li><i class="fas fa-check-circle"></i>مطاعم ومقاهي عالمية</li>
                            </ul>
                        </div>
                    </div>

                    <!-- مساحات خضراء -->
                    <div class="feature-card" data-aos="fade-up" data-aos-delay="300">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="feature-content">
                            <h3>مساحات خضراء</h3>
                            <p>70% من مساحة المشروع مساحات خضراء وحدائق منسقة توفر بيئة صحية ومتنفساً طبيعياً للسكان</p>
                            <ul class="feature-list">
                                <li><i class="fas fa-check-circle"></i>حدائق مركزية واسعة</li>
                                <li><i class="fas fa-check-circle"></i>ممرات مشجرة للتنزه</li>
                                <li><i class="fas fa-check-circle"></i>مناطق ترفيهية للأطفال</li>
                                <li><i class="fas fa-check-circle"></i>جلسات خارجية هادئة</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="gallery-section">
            <div class="container">
                <h2 data-aos="fade-up">معرض الصور</h2>
                <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
                    شاهد تفاصيل المشروع والتصاميم الفريدة للوحدات والمرافق المختلفة
                </p>
                
                <div class="gallery-grid">
                    <!-- Featured Image -->
                    <div class="gallery-item featured" data-aos="fade-up">
                        <img src="wehdat4.jpeg" alt="المنظر الخارجي للمشروع">
                        <div class="gallery-overlay">
                            <h3> المبني الاجتماعي</h3>
                            <div class="gallery-tags">
                                <span class="gallery-tag">
                                    <i class="fas fa-water"></i>
                                    منطقه البحيرات 
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-leaf"></i>
                                    مجمع المطاعم 
                                </span>
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat4.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>

                    <!-- Regular Gallery Items -->
                    <div class="gallery-item" data-aos="fade-up" data-aos-delay="100">
                        <img src="wehdat5.jpeg" alt="  مراكز اداريه وتجاريه">
                        <div class="gallery-overlay">
                            <h3>  مراكز اداريه وتجاريه</h3>
                            <div class="gallery-tags">
                                <!-- <span class="gallery-tag">
                                    <i class="fas fa-water"></i>
                                    منطقه البحيرات 
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-leaf"></i>
                                    مجمع المطاعم 
                                </span> -->
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat5.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>

                    <div class="gallery-item" data-aos="fade-up" data-aos-delay="200">
                        <img src="wehdat6.jpeg" alt="خدمات طبيه ">
                        <div class="gallery-overlay">
                            <h3> خدمات طبيه</h3>
                            <div class="gallery-tags">
                                <!-- <span class="gallery-tag">
                                    <i class="fas fa-couch"></i>
                                    تشطيبات فاخرة
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-lightbulb"></i>
                                    إضاءة ذكية
                                </span> -->
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat6.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>

                    <div class="gallery-item" data-aos="fade-up" data-aos-delay="300">
                        <img src="wehdat7.jpeg" alt="خدمات دينيه ">
                        <div class="gallery-overlay">
                            <h3> خدمات دينيه</h3>
                            <div class="gallery-tags">
                                <!-- <span class="gallery-tag">
                                    <i class="fas fa-dumbbell"></i>
                                    مرافق رياضية
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-swimming-pool"></i>
                                    حمام سباحة
                                </span> -->
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat7.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>

                    <div class="gallery-item" data-aos="fade-up" data-aos-delay="400">
                        <img src="wehdat8.jpeg" alt="خدمات تعليميه ">
                        <div class="gallery-overlay">
                            <h3> خدمات تعليميه</h3>
                            <div class="gallery-tags">
                                <!-- <span class="gallery-tag">
                                    <i class="fas fa-walking"></i>
                                    مسارات المشي
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-bicycle"></i>
                                    مسارات الدراجات
                                </span> -->
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat8.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>

                    <div class="gallery-item" data-aos="fade-up" data-aos-delay="500">
                        <img src="wehdat2.jpeg" alt="المرافق العامة">
                        <div class="gallery-overlay">
                            <h3>المرافق العامة</h3>
                            <div class="gallery-tags">
                               <!--  <span class="gallery-tag">
                                    <i class="fas fa-store"></i>
                                    مناطق تجارية
                                </span>
                                <span class="gallery-tag">
                                    <i class="fas fa-utensils"></i>
                                    مطاعم ومقاهي
                                </span> -->
                            </div>
                        </div>
                        <button class="gallery-zoom" data-lightbox-src="wehdat2.jpeg" aria-label="تكبير الصورة">
                            <i class="fas fa-search-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        </section>


        <!-- Calculator Section with Enhanced Styling -->
        <section id="calculator" class="calculator section">
            <div class="container">
                <h2 data-aos="fade-up">حاسبة العائد الاستثماري</h2>
                <p class="section-subtitle investment-subtitle" data-aos="fade-up" data-aos-delay="100">
                    استثمر في مستقبلك مع كابيتال جاردنز واحصل على عائد سنوي مضمون
                    <span class="highlight">15% - 20%</span>
                    في السنة الأولى
                </p>
                
                <div class="range-group" data-aos="fade-up" data-aos-delay="200">
                    <label for="investmentRange" class="calculator-label">
                        <i class="fas fa-coins"></i>
                        حدد قيمة الوحدة السكنية
                    </label>
                    
                    <div class="range-wrapper">
                        <input type="range" 
                               id="investmentRange" 
                               min="1" 
                               max="20" 
                               value="5" 
                               step="0.5"
                               aria-labelledby="investmentLabel">
                    </div>
                    
                    <div class="investment-results">
                        <div class="result-card">
                            <h4>قيمة الوحدة</h4>
                            <output id="investmentOutput" for="investmentRange" aria-live="polite">
                                5.0 مليون جنيه
                            </output>
                        </div>
                        
                        <div class="result-card highlight">
                            <h4>العائد السنوي المتوقع</h4>
                            <div class="return-range">
                                <output id="minReturn">750,000</output>
                                <span class="separator">-</span>
                                <output id="maxReturn">1,000,000</output>
                                <span class="currency">جنيه</span>
                            </div>
                            <div class="return-percentage">
                                <span id="returnPercentage">15% - 20%</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- إضافة جدول العائد على مدار 5 سنوات -->
                    <div class="multi-year-returns">
                        <div class="corner-decoration top-left"></div>
                        <div class="corner-decoration top-right"></div>
                        <div class="corner-decoration bottom-left"></div>
                        <div class="corner-decoration bottom-right"></div>
                        
                        <h4 class="returns-title">العائد المتوقع على مدار 5 سنوات</h4>
                        <div class="returns-table-container">
                            <table class="returns-table">
                                <thead>
                                    <tr>
                                        <th>السنة</th>
                                        <th>معدل العائد</th>
                                        <th>العائد السنوي</th>
                                        <th>إجمالي العائد</th>
                                    </tr>
                                </thead>
                                <tbody id="returnsTableBody">
                                    <!-- سيتم ملء هذا الجزء ديناميكيًا بواسطة جافاسكريبت -->
                                </tbody>
                            </table>
                        </div>
                        <p class="returns-note">
                            * يتم حساب العائد مع زيادة سنوية قدرها 5% في قيمة العقار وزيادة معدل العائد بنسبة 2% سنويًا
                        </p>
                    </div>
                    
                    
                    
                    <p class="disclaimer">
                        * العوائد المعروضة تقديرية وتعتمد على موقع الوحدة ومواصفاتها
                    </p>
                </div>
            </div>
        </section>

        <!-- Virtual Tour Section -->
        <!-- <section id="site-photos" class="site-photos-section">
            <div class="container">
                <h2 data-aos="fade-up">صور من أرض الواقع</h2>
                <p class="section-subtitle" data-aos="fade-up" data-aos-delay="100">
                    شاهد جمال وروعة المشروع من خلال مجموعة من الصور الحقيقية التي تعكس الواقع على الطبيعة
                </p>

                <div class="photos-grid">
                     Featured Photo 
                    <div class="photo-card featured" data-aos="fade-up">
                        <img src="images/aerial-view.jpg" alt="منظر جوي للمشروع">
                        <div class="photo-overlay">
                            <h3>منظر جوي للمشروع</h3>
                            <div class="photo-tags">
                                <span class="photo-tag">منظر جوي</span>
                                <span class="photo-tag">المشروع كامل</span>
                            </div>
                        </div>
                    </div>

                     Regular Photos 
                    <div class="photo-card" data-aos="fade-up" data-aos-delay="100">
                        <img src="images/green-river.jpg" alt="النهر الأخضر">
                        <div class="photo-overlay">
                            <h3>النهر الأخضر</h3>
                            <div class="photo-tags">
                                <span class="photo-tag">مناظر طبيعية</span>
                                <span class="photo-tag">ترفيه</span>
                            </div>
                        </div>
                    </div>

                    <div class="photo-card" data-aos="fade-up" data-aos-delay="200">
                        <img src="images/sports-club.jpg" alt="النادي الرياضي">
                        <div class="photo-overlay">
                            <h3>النادي الرياضي</h3>
                            <div class="photo-tags">
                                <span class="photo-tag">رياضة</span>
                                <span class="photo-tag">ترفيه</span>
                            </div>
                        </div>
                    </div>

                    <div class="photo-card" data-aos="fade-up" data-aos-delay="300">
                        <img src="images/residential.jpg" alt="المباني السكنية">
                        <div class="photo-overlay">
                            <h3>المباني السكنية</h3>
                            <div class="photo-tags">
                                <span class="photo-tag">سكني</span>
                                <span class="photo-tag">عمارة</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section> -->

        <!-- CTA Section -->
        <section class="cta section">
            <div class="container" data-aos="fade-up">
                 <h2>احجز وحدتك الآن!</h2>
                 <p>
                    لا تفوت فرصة الاستثمار في مشروع كابيتال جاردنز، المدينة الذكية المتكاملة في قلب حدائق العاصمة الإدارية الجديدة. وحدات محدودة متاحة الآن بأسعار تنافسية وأنظمة سداد مرنة.
                </p>
                 <!-- <a href="#" class="btn btn-primary">تواصل معنا للاستفسار</a> -->
            </div>
        </section>

        <!-- Site Photos Section -->
        
    </main>

    <!-- Footer Section -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-about">
                    <div class="footer-logo">Capital Gardens</div>
                    <p>
                        مدينة ذكية متكاملة في قلب حدائق العاصمة الإدارية الجديدة، توفر بيئة معيشية عصرية تجمع بين الراحة والفخامة والاستدامة.
                    </p>
                    <div class="footer-social">
                        <a href="https://www.facebook.com/groups/292670353170118/?mibextid=A7sQZp&rdid=hoUcOh6qumW9wLWt&share_url=https%3A%2F%2Fwww.facebook.com%2Fshare%2Fod8icathLL9FoLFc%2F%3Fmibextid%3DA7sQZp#" target="_blank" rel="noopener" class="social-link" aria-label="Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="https://www.instagram.com/capital_gardens_compound/?igsh=YTQwZjQ0NmI0OA%3D%3D#" target="_blank" rel="noopener" class="social-link" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.tiktok.com/@capital_gardens_compound?_t=8niEUNoQdAE&_r=1" target="_blank" rel="noopener" class="social-link" aria-label="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                    </div>
                </div>


            </div>

            <div class="footer-bottom">
                <p>
                    &copy; <span id="year"></span> Capital Gardens. جميع الحقوق محفوظة.
                    تصميم وتطوير: <a href="https://moibrahim0115.github.io/cv/?" target="_blank" rel="noopener noreferrer">Mohamed Ibrahim</a>
                </p>
            </div>
        </div>
    </footer>

    <!-- Lightbox Structure (Hidden Initially) -->
    <div class="lightbox" id="galleryLightbox">
        <button class="close-lightbox" aria-label="Close lightbox">&times;</button>
        <img src="" alt="Gallery image large view">
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        // --- AOS Initialization ---
        AOS.init({
            duration: 800, // Animation duration
            offset: 100, // Trigger animations sooner
            once: false, // Re-animate on scroll up
            mirror: false,
            easing: 'ease-in-out'
        });

        // --- Header Scroll Effect ---
        const header = document.querySelector('.main-header');
        const headerHeight = header ? header.offsetHeight : 70;
        window.addEventListener('scroll', () => {
            if (header && window.scrollY > 50) {
                header.classList.add('scrolled');
            } else if (header) {
                header.classList.remove('scrolled');
            }
        }, { passive: true }); // Improve scroll performance

         // --- Mobile Menu Toggle ---
         const mobileToggle = document.querySelector('.mobile-toggle');
         const mainNav = document.querySelector('.main-nav'); // Target the nav container

         if (mobileToggle && mainNav) {
             mobileToggle.addEventListener('click', () => {
                 const isExpanded = mainNav.classList.toggle('active');
                 mobileToggle.classList.toggle('active');
                 mobileToggle.setAttribute('aria-expanded', isExpanded);
             });

             // Close menu when a link is clicked
             mainNav.querySelectorAll('a').forEach(link => {
                 link.addEventListener('click', () => {
                     if (mainNav.classList.contains('active')) {
                        mainNav.classList.remove('active');
                        mobileToggle.classList.remove('active');
                        mobileToggle.setAttribute('aria-expanded', 'false');
                     }
                 });
             });
              // Close menu if clicking outside when open
             document.addEventListener('click', (event) => {
                 if (mainNav.classList.contains('active') && !mainNav.contains(event.target) && !mobileToggle.contains(event.target)) {
                     mainNav.classList.remove('active');
                     mobileToggle.classList.remove('active');
                     mobileToggle.setAttribute('aria-expanded', 'false');
                 }
             });
         }

        // --- Investment Calculator ---
        const range = document.getElementById('investmentRange');
        const investmentOutput = document.getElementById('investmentOutput');
        const minReturn = document.getElementById('minReturn');
        const maxReturn = document.getElementById('maxReturn');
        const returnPercentage = document.getElementById('returnPercentage');
        const returnsTableBody = document.getElementById('returnsTableBody');

        if(range && investmentOutput && minReturn && maxReturn) {
            // Format number with commas
            const formatNumber = (num) => {
                return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            };
            
            // Format millions
            const formatMillions = (value) => {
                return `${parseFloat(value).toFixed(1)} مليون جنيه`;
            };

            // Calculate returns (15% - 20%)
            const calculateReturns = (value) => {
                const investment = value * 1000000; // Convert to actual value
                const minReturnValue = investment * 0.15; // 15%
                const maxReturnValue = investment * 0.20; // 20%
                return {
                    min: formatNumber(Math.round(minReturnValue)),
                    max: formatNumber(Math.round(maxReturnValue)),
                    minPercent: 15,
                    maxPercent: 20
                };
            };
            
            // حساب العائد على مدار 5 سنوات
            const calculateMultiYearReturns = (value) => {
                const baseInvestment = parseFloat(value) * 1000000; // القيمة الأساسية
                const years = 5; // عدد السنوات
                const propertyGrowthRate = 0.05; // معدل نمو قيمة العقار سنويًا (5%)
                const returnRateGrowth = 0.02; // زيادة معدل العائد سنويًا (2%)
                
                let currentInvestmentValue = baseInvestment;
                let totalReturn = 0;
                let yearsData = [];
                
                for (let year = 1; year <= years; year++) {
                    // حساب معدل العائد للسنة الحالية
                    const baseReturnRate = 0.15 + (year - 1) * returnRateGrowth;
                    const returnRate = Math.min(baseReturnRate, 0.30); // الحد الأقصى 30%
                    
                    // حساب العائد السنوي
                    const yearReturn = currentInvestmentValue * returnRate;
                    totalReturn += yearReturn;
                    
                    yearsData.push({
                        year: year,
                        investmentValue: currentInvestmentValue,
                        returnRate: returnRate * 100,
                        yearReturn: yearReturn,
                        totalReturn: totalReturn
                    });
                    
                    // زيادة قيمة العقار للسنة التالية
                    currentInvestmentValue *= (1 + propertyGrowthRate);
                }
                
                return yearsData;
            };
            
            // تحديث جدول العائد على مدار 5 سنوات
            const updateMultiYearTable = (value) => {
                if (!returnsTableBody) return;
                
                const yearsData = calculateMultiYearReturns(value);
                returnsTableBody.innerHTML = '';
                
                yearsData.forEach(data => {
                    const row = document.createElement('tr');
                    
                    const yearCell = document.createElement('td');
                    yearCell.textContent = `السنة ${data.year}`;
                    yearCell.className = 'year';
                    
                    const rateCell = document.createElement('td');
                    rateCell.textContent = `${data.returnRate.toFixed(1)}%`;
                    rateCell.className = 'rate';
                    
                    const returnCell = document.createElement('td');
                    returnCell.textContent = formatNumber(Math.round(data.yearReturn)) + ' جنيه';
                    returnCell.className = 'highlight';
                    
                    const totalCell = document.createElement('td');
                    totalCell.textContent = formatNumber(Math.round(data.totalReturn)) + ' جنيه';
                    totalCell.className = 'total';
                    
                    row.appendChild(yearCell);
                    row.appendChild(rateCell);
                    row.appendChild(returnCell);
                    row.appendChild(totalCell);
                    
                    returnsTableBody.appendChild(row);
                });
            };

            // Initial display
            investmentOutput.textContent = formatMillions(range.value);
            const initialReturns = calculateReturns(range.value);
            minReturn.textContent = initialReturns.min;
            maxReturn.textContent = initialReturns.max;
            
            if (returnPercentage) {
                returnPercentage.textContent = `${initialReturns.minPercent}% - ${initialReturns.maxPercent}%`;
            }
            
            // تحديث جدول العائد لخمس سنوات
            updateMultiYearTable(range.value);

            // Update on input
            range.addEventListener('input', (e) => {
                const value = e.target.value;
                investmentOutput.textContent = formatMillions(value);
                const returns = calculateReturns(value);
                minReturn.textContent = returns.min;
                maxReturn.textContent = returns.max;
                
                if (returnPercentage) {
                    returnPercentage.textContent = `${returns.minPercent}% - ${returns.maxPercent}%`;
                }
                
                // تحديث جدول العائد لخمس سنوات
                updateMultiYearTable(value);
            });

            // A11y: Update aria-valuetext
            range.addEventListener('change', (e) => {
                range.setAttribute('aria-valuetext', formatMillions(e.target.value));
            });
            // Set initial aria-valuetext
            range.setAttribute('aria-valuetext', formatMillions(range.value));
        }

        // --- Virtual Tour Placeholder ---
        const panoramaContainer = document.getElementById('panorama');
        if (typeof PANOLENS !== 'undefined' && panoramaContainer) {
             // --- Panolens Initialization Code ---
            // Example: Replace with your actual Panolens setup
            try {
                // Use the correct image path here
                const panoramaImage = 'wehdat3.jpeg'; // Example: Using one of the gallery images
                const panorama = new PANOLENS.ImagePanorama(panoramaImage);

                const viewer = new PANOLENS.Viewer({
                    container: panoramaContainer,
                    autoRotate: true,
                    autoRotateSpeed: 0.3,
                    controlBar: true,
                    controlButtons: ['fullscreen', 'setting', 'video'],
                    infoSpotRadius: 300
                });
                viewer.add(panorama);
                 // Remove placeholder text on success
                 panoramaContainer.textContent = '';
            } catch (error) {
                console.error("Error initializing Panolens:", error);
                panoramaContainer.textContent = 'حدث خطأ أثناء تحميل الجولة الافتراضية.';
            }
        } else if (panoramaContainer) {
             console.warn("Panolens library not found or container missing. Virtual tour cannot be initialized.");
             // Keep placeholder text or update it
             panoramaContainer.textContent = 'الجولة الافتراضية غير متاحة حالياً.';
        }

         // --- Simple Lightbox for Gallery ---
         const lightboxElement = document.getElementById('galleryLightbox');
         const lightboxImg = lightboxElement ? lightboxElement.querySelector('img') : null;
         const closeLightboxBtn = lightboxElement ? lightboxElement.querySelector('.close-lightbox') : null;

         function openLightbox(src) {
             if (lightboxElement && lightboxImg) {
                lightboxImg.src = src;
                lightboxElement.classList.add('show');
                document.body.style.overflow = 'hidden'; // Prevent scrolling background
             }
         }

         function closeLightbox() {
              if (lightboxElement) {
                lightboxElement.classList.remove('show');
                document.body.style.overflow = ''; // Restore scrolling
              }
         }

         document.querySelectorAll('.property-card .tour-btn[data-lightbox-src]').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const imgSrc = button.getAttribute('data-lightbox-src');
                if (imgSrc) {
                    openLightbox(imgSrc);
                }
            });
         });

         if (lightboxElement) {
            // Close on clicking background or close button
            lightboxElement.addEventListener('click', (event) => {
                if (event.target === lightboxElement) {
                    closeLightbox();
                }
            });
         }
         if (closeLightboxBtn) {
             closeLightboxBtn.addEventListener('click', closeLightbox);
         }
         // Close with Escape key
         document.addEventListener('keydown', (event) => {
             if (event.key === 'Escape' && lightboxElement && lightboxElement.classList.contains('show')) {
                 closeLightbox();
             }
         });

        // --- Footer Current Year ---
        const yearSpan = document.getElementById('year');
        if(yearSpan) {
             yearSpan.textContent = new Date().getFullYear();
        }

        // --- Smooth Scrolling ---
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                 const href = this.getAttribute('href');
                 if (href && href.startsWith('#') && href.length > 1) {
                     const targetElement = document.querySelector(href);
                     if (targetElement) {
                         e.preventDefault();
                         const headerOffset = document.querySelector('.main-header')?.offsetHeight || 70;
                         const elementPosition = targetElement.getBoundingClientRect().top;
                         const offsetPosition = elementPosition + window.pageYOffset - headerOffset;

                         window.scrollTo({
                             top: offsetPosition,
                             behavior: "smooth"
                         });
                     }
                 }
            });
        });

        // --- Mobile Performance Optimizations ---
        // Debounce scroll events for better performance
        let scrollTimeout;
        window.addEventListener('scroll', () => {
            if (scrollTimeout) {
                clearTimeout(scrollTimeout);
            }
            scrollTimeout = setTimeout(() => {
                // Header scroll effect with debouncing
                if (header && window.scrollY > 50) {
                    header.classList.add('scrolled');
                } else if (header) {
                    header.classList.remove('scrolled');
                }
            }, 10);
        }, { passive: true });

        // --- Touch Events for Mobile ---
        // Prevent double-tap zoom on buttons
        document.querySelectorAll('.btn, .mobile-toggle, .gallery-zoom').forEach(element => {
            element.addEventListener('touchend', function(e) {
                e.preventDefault();
                this.click();
            });
        });

        // --- Mobile Device Detection ---
        const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

        if (isMobile || isTouch) {
            // Add mobile class to body
            document.body.classList.add('mobile-device');
            
            // Optimize images for mobile
            const images = document.querySelectorAll('img');
            images.forEach(img => {
                img.loading = 'lazy';
            });

            // Reduce animation complexity on mobile
            if (typeof AOS !== 'undefined') {
                AOS.init({
                    duration: 600,
                    offset: 50,
                    once: true,
                    disable: window.innerWidth < 768
                });
            }
        }

        // --- Viewport Height Fix for Mobile Browsers ---
        function setVHProperty() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        setVHProperty();
        window.addEventListener('resize', setVHProperty);
        window.addEventListener('orientationchange', () => {
            setTimeout(setVHProperty, 100);
        });

        // --- Prevent iOS Safari Bounce ---
        document.addEventListener('touchmove', function(e) {
            if (e.target.closest('.main-nav, .lightbox, .calculator')) {
                return;
            }
            
            const scrollableParent = e.target.closest('.returns-table-container, .tour-container');
            if (!scrollableParent) {
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
                const clientHeight = document.documentElement.clientHeight;
                
                if ((scrollTop === 0 && e.touches[0].clientY > e.touches[0].clientY) ||
                    (scrollTop + clientHeight >= scrollHeight && e.touches[0].clientY < e.touches[0].clientY)) {
                    e.preventDefault();
                }
            }
        }, { passive: false });

        // --- Optimize Calculator for Mobile ---
        if (range) {
            let isUpdating = false;
            range.addEventListener('input', (e) => {
                if (!isUpdating) {
                    isUpdating = true;
                    requestAnimationFrame(() => {
                        // Update calculator values
                        const value = e.target.value;
                        if (investmentOutput) investmentOutput.textContent = formatMillions(value);
                        const returns = calculateReturns(value);
                        if (minReturn) minReturn.textContent = returns.min;
                        if (maxReturn) maxReturn.textContent = returns.max;
                        if (returnPercentage) returnPercentage.textContent = `${returns.minPercent}% - ${returns.maxPercent}%`;
                        updateMultiYearTable(value);
                        isUpdating = false;
                    });
                }
            });
        }

    </script>
</body>
</html>
